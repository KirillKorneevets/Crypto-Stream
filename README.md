Crypto Stream
Этот проект предоставляет приложение для потокового мониторинга цен на криптовалюты в реальном времени. Он включает в себя обработчики для подключения к биржам Binance и OKX, получения данных в реальном времени и обновления веб-интерфейса в режиме реального времени.

Содержание
1. binance_handlers.py
Файл binance_handlers.py содержит модуль обработчика Binance, отвечающего за установку WebSocket-соединения с биржей Binance. Он подписывается на конкретные пары криптовалют, такие как BTC/USDT, ETH/USDT и XRP/USDT, и прослушивает обновления цен в реальном времени.

Обработчик реализован как асинхронный модуль, используя библиотеку websockets для установки и поддержания соединения WebSocket. Он отправляет запросы на подписку, получает и обрабатывает данные в реальном времени, а затем обновляет веб-интерфейс через интеграцию Flask-SocketIO.

Также обработчик включает обработку ошибок для управления закрытием соединения и другими потенциальными проблемами во время взаимодействия через WebSocket.

2. okx_handlers.py
Файл okx_handlers.py содержит аналогичный обработчик для биржи OKX. Он устанавливает соединение с биржей, подписывается на определенные валютные пары и обрабатывает обновления цен в реальном времени. Этот обработчик также реализован как асинхронный модуль с использованием websockets.

3. handlers.py
Файл handlers.py содержит модуль, отвечающий за подключение к обработчикам бирж. Он определяет функцию connect_to_handler(), которая устанавливает соединение с активным обработчиком в бесконечном цикле. Если возникает ошибка при подключении к текущему обработчику, программа переключается на следующий обработчик в списке.

4. templates
Веб-интерфейс и Взаимодействие с JavaScript и AJAX: Веб-страница с общим потоком данных от Binance и OKX. JavaScript и Socket.IO обеспечивают динамичное обновление информации на странице. А так же специальная веб-страница для валютной пары BTC-USDT, ETH-USDT и XRP-USDT.
ip:port/courses - получить курсы всех валютных пар (списком)
ip:port/btcusdt - получить курс для валютной пары BTC-USDT и так далее(xrpusdt, ethusdt)

5. app.log
Все логи приложения записываются в файл app.log. Это обеспечивает детальный журнал событий и ошибок во время работы приложения.

6. Нагрузочное тестирование Locust
Приложение успешно прошло нагрузочное тестирование, в ходе которого было выполнено более 1500 запросов в секунду на различные эндпоинты, включая /btcusdt, /courses, /ethusdt, /xrpusdt.

РЕЗУЛЬТАТЫ ТЕСТА:
[2024-02-05 11:53:56,193] DESKTOP-LRPNSUI/INFO/locust.main: Shutting down (exit code 0)
Type     Name                                                                          # reqs      # fails |    Avg     Min     Max    Med |   req/s  failures/s
--------|----------------------------------------------------------------------------|-------|-------------|-------|-------|-------|-------|--------|-----------
GET      /btcusdt                                                                        2151     0(0.00%) |   1338      29    5291    810 |  202.19        0.00
GET      /courses                                                                        2110     0(0.00%) |   1368      24    5292    820 |  198.34        0.00
GET      /ethusdt                                                                        2089     0(0.00%) |   1336      28    5286    810 |  196.36        0.00
GET      /xrpusdt                                                                        2214     0(0.00%) |   1337      17    5297    810 |  208.11        0.00
--------|----------------------------------------------------------------------------|-------|-------------|-------|-------|-------|-------|--------|-----------
         Aggregated                                                                      8564     0(0.00%) |   1345      17    5297    810 |  805.01        0.00

Response time percentiles (approximated)
Type     Name                                                                                  50%    66%    75%    80%    90%    95%    98%    99%  99.9% 99.99%   100% # reqs
--------|--------------------------------------------------------------------------------|--------|------|------|------|------|------|------|------|------|------|------|------
GET      /btcusdt                                                                              810    950   1200   1600   3700   4700   4900   5000   5300   5300   5300   2151
GET      /courses                                                                              820    970   1300   1700   3700   4700   5000   5100   5200   5300   5300   2110
GET      /ethusdt                                                                              810    950   1100   1600   3800   4700   5000   5000   5200   5300   5300   2089
GET      /xrpusdt                                                                              810    940   1100   1600   3700   4700   5000   5100   5200   5300   5300   2214
--------|--------------------------------------------------------------------------------|--------|------|------|------|------|------|------|------|------|------|------|------
         Aggregated                                                                            810    950   1100   1600   3700   4700   5000   5100   5300   5300   5300   8564
